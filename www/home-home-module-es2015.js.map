{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/pay-phone-modal/pay-phone-modal.component.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts","./src/app/home/pay-phone-modal/pay-phone-modal.component.scss","./src/app/home/pay-phone-modal/pay-phone-modal.component.ts","./src/app/services/pay-service.service.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Операторы\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-card class=\\\"home-card\\\" *ngFor=\\\"let o of operators$ | async\\\" (click)=\\\"selectOperator(o)\\\">\\n      <img src=\\\"/assets/logo/{{o.logo}}\\\" [alt]=\\\"o.name\\\" />\\n      <ion-card-header>\\n        <ion-card-title>{{o.name}}</ion-card-title>\\n      </ion-card-header>\\n    </ion-card>\\n</ion-content>\\n\"","module.exports = \"<form (submit)=\\\"processForm($event)\\\" [formGroup]=\\\"form\\\">\\n<ion-header translucent>\\n  <ion-toolbar>\\n    <ion-title>Внести деньги на телефон. Выбран оператор {{this.operator?.name}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n    <ion-list lines=\\\"full\\\" class=\\\"ion-no-margin ion-no-padding\\\">\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Номер телефона <ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n        <ion-input\\n                required\\n                type=\\\"text\\\"\\n                formControlName=\\\"phone\\\"\\n                prefix=\\\"+7 \\\"\\n                mask=\\\"(000) 000 00 00\\\"\\n                placeholder=\\\"(000) 000 00 00\\\"\\n        ></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Сумма, руб. <ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n        <ion-input\\n                required\\n                type=\\\"number\\\"\\n                formControlName=\\\"sum\\\"\\n                [min]=\\\"1\\\"\\n                [max]=\\\"1000\\\"\\n                step=\\\"1\\\"\\n                placeholder=\\\"Введите число от 1 до 1000\\\"\\n        ></ion-input>\\n      </ion-item>\\n    </ion-list>\\n\\n\\n\\n</ion-content>\\n<ion-footer>\\n  <div class=\\\"ion-padding\\\">\\n    <ion-button [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\" type=\\\"submit\\\" class=\\\"ion-no-margin\\\">Create account</ion-button>\\n  </div>\\n</ion-footer>\\n</form>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\nimport {PayPhoneModalComponent} from \"./pay-phone-modal/pay-phone-modal.component\";\nimport {NgxMaskIonicModule} from \"ngx-mask-ionic\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: HomePage\n            }\n        ]),\n        ReactiveFormsModule,\n        NgxMaskIonicModule\n    ],\n  declarations: [HomePage, PayPhoneModalComponent],\n  entryComponents: [PayPhoneModalComponent]\n})\nexport class HomePageModule {}\n","module.exports = \"ion-card {\\n  padding: 10px;\\n  cursor: pointer;\\n}\\nion-card:hover {\\n  opacity: 0.7;\\n}\\n.home-card img {\\n  max-height: 10vh;\\n  max-width: 20vw;\\n  margin: auto;\\n  overflow: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9DOlxcVXNlcnNcXHVzZXJcXFdlYnN0b3JtUHJvamVjdHNcXHRlc3R3b3Jrc2hha3Vyb2NvbS9zcmNcXGFwcFxcaG9tZVxcaG9tZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0EsZUFBQTtBQ0NGO0FEQUU7RUFDRSxZQUFBO0FDRUo7QURFQTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jYXJkIHtcbiAgcGFkZGluZzogMTBweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAmOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAwLjc7XG4gIH1cbn1cblxuLmhvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAxMHZoO1xuICBtYXgtd2lkdGg6IDIwdnc7XG4gIG1hcmdpbjogYXV0bztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbiIsImlvbi1jYXJkIHtcbiAgcGFkZGluZzogMTBweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuaW9uLWNhcmQ6aG92ZXIge1xuICBvcGFjaXR5OiAwLjc7XG59XG5cbi5ob21lLWNhcmQgaW1nIHtcbiAgbWF4LWhlaWdodDogMTB2aDtcbiAgbWF4LXdpZHRoOiAyMHZ3O1xuICBtYXJnaW46IGF1dG87XG4gIG92ZXJmbG93OiBoaWRkZW47XG59Il19 */\"","import {Component} from '@angular/core';\nimport {ModalController} from \"@ionic/angular\";\nimport {PayPhoneModalComponent} from \"./pay-phone-modal/pay-phone-modal.component\";\nimport {IOperator} from \"../interfaces/operator.interface\";\nimport {PayService} from \"../services/pay-service.service\";\nimport {Observable, operators} from \"rxjs/internal/Rx\";\n\n\n@Component({\n    selector: 'app-home',\n    templateUrl: 'home.page.html',\n    styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n    selectedOperator: IOperator;\n    operators$: Observable<IOperator[]>;\n\n    constructor(public modalController: ModalController, private payService: PayService) {\n        this.operators$ = this.payService.getOperators()\n    }\n\n    async selectOperator(o: IOperator): Promise<void> {\n        const modal = await this.modalController.create({\n            component: PayPhoneModalComponent,\n            componentProps: {\n                selectedOperator: o\n            }\n        });\n        return await modal.present();\n    }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvcGF5LXBob25lLW1vZGFsL3BheS1waG9uZS1tb2RhbC5jb21wb25lbnQuc2NzcyJ9 */\"","import {Component, OnInit} from '@angular/core';\nimport {ModalController, NavParams, ToastController} from \"@ionic/angular\";\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {PayService} from \"../../services/pay-service.service\";\nimport {IOperator} from \"../../interfaces/operator.interface\";\n\n@Component({\n    selector: 'app-pay-phone-modal',\n    templateUrl: './pay-phone-modal.component.html',\n    styleUrls: ['./pay-phone-modal.component.scss'],\n})\nexport class PayPhoneModalComponent implements OnInit {\n    private operator: IOperator;\n    form: FormGroup = new FormGroup({\n        \"phone\": new FormControl('', [Validators.required, Validators.minLength(18)]),\n        \"sum\": new FormControl('', [Validators.required, Validators.min(1), Validators.max(1000)]),\n    });\n\n\n    constructor(\n        navParams: NavParams,\n        private payService: PayService,\n        private modalController: ModalController,\n        private toastController: ToastController\n    ) {\n        this.operator = navParams.get('selectedOperator')\n    }\n\n    ngOnInit() {\n    }\n\n    processForm(event: any) {\n        event.preventDefault();\n        console.log('this.form', this.form);\n        this.payService.createPay(this.form.value).subscribe(res => {\n            if (res.status === 201) {\n                this.modalController.dismiss();\n            }\n            this.presentToast(res.message)\n        })\n    }\n\n    async presentToast(msg: string) {\n        const toast = await this.toastController.create({\n            message: msg,\n            duration: 2000\n        });\n        toast.present();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {IPay} from \"../interfaces/pay.interface\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Observable, of} from \"rxjs\";\nimport {IOperator} from \"../interfaces/operator.interface\";\nimport {ResponseInterface} from \"../interfaces/response.interface\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PayService {\n  base_url: string = \"http://mybackend.com/api/\";\n  tasks_endpoint = \"operators\";\n  constructor(private http: HttpClient) { }\n\n  getOperators(): Observable<IOperator[]> {\n    return this.http\n        .get<IOperator[]>(this.base_url + this.tasks_endpoint)\n  }\n\n  createPay(pay: IPay): Observable<ResponseInterface> {\n      const responses: ResponseInterface[] = [\n        {\n          status: 201,\n          message: 'success'\n        },\n        {\n          status: 500,\n          message: 'error'\n        }\n      ];\n    const i =  Math.floor(0 + Math.random() * (2));\n    return of(responses[i]);\n  }\n}\n"],"sourceRoot":""}